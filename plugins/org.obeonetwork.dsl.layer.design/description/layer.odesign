<?xml version="1.0" encoding="UTF-8"?>
<description:Group xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:description="http://www.obeo.fr/dsl/viewpoint/description/1.1.0" xmlns:description_1="http://www.obeo.fr/dsl/viewpoint/table/description/1.1.0" xmlns:style="http://www.obeo.fr/dsl/viewpoint/description/style/1.1.0" xmlns:tool="http://www.obeo.fr/dsl/viewpoint/description/tool/1.1.0" name="layer">
  <ownedViewpoints name="Layer Definition">
    <ownedRepresentations xsi:type="description:DiagramDescription" name="Layer Definition" initialisation="true" domainClass="Layer">
      <defaultLayer name="Default">
        <edgeMappings name="Reference" sourceMapping="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1']/@subContainerMappings[name='SubLayer'] //@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1']" targetMapping="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1'] //@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1']/@subContainerMappings[name='SubLayer']" targetFinderExpression="&lt;%references%>" sourceFinderExpression="&lt;%self%>" domainClass="layer.Layer" useDomainElement="true">
          <style sizeComputationExpression="2">
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
          </style>
        </edgeMappings>
        <edgeMappings name="ReferenceBetweenLayers" sourceMapping="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1'] //@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1']/@subContainerMappings[name='SubLayer']" targetMapping="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1'] //@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1']/@subContainerMappings[name='SubLayer']" sourceFinderExpression="&lt;%self%>" domainClass="layer.Layer" useDomainElement="true">
          <style sizeComputationExpression="2">
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='red']"/>
          </style>
        </edgeMappings>
        <containerMappings name="Layer1" semanticCandidatesExpression="&lt;%self%>" domainClass="Layer" dropDescriptions="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Drop%20Element']">
          <detailDescriptions xsi:type="description_1:TableCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20new%20Business%20Interaction%20Matrix']"/>
          <detailDescriptions xsi:type="tool:DiagramCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20Business%20%2F%20Information%20Diagram']"/>
          <detailDescriptions xsi:type="tool:DiagramCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20Business%20Footprint%20Diagram']"/>
          <detailDescriptions xsi:type="tool:DiagramCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20new%20Application%20Communication%20Diagram']"/>
          <detailDescriptions xsi:type="description_1:TableCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20new%20System%2FOrganization%20Matrix%20(Logical%20App%20Map)%20Layer']"/>
          <detailDescriptions xsi:type="description_1:TableCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20new%20System%2FFunction%20Matrix%20(Logical%20App%20Map)%20-%20Layer']"/>
          <detailDescriptions xsi:type="description_1:TableCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20new%20Role%2FSystem%20Matrix%20(Logical%20App%20Map)%20-%20Layer']"/>
          <subNodeMappings name="Element" deletionDescription="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Delete%20Element']" semanticCandidatesExpression="&lt;%elements%>" synchronizationLock="true" domainClass="EObject">
            <style xsi:type="style:SquareDescription" showIcon="false" labelPosition="node" resizeKind="NSEW">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='chocolate']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='chocolate']"/>
            </style>
          </subNodeMappings>
          <subContainerMappings xsi:type="description:ContainerMappingImport" name="SubLayer" semanticCandidatesExpression="&lt;%subLayers%>" synchronizationLock="true" dropDescriptions="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Drop%20Element']" reusedNodeMappings="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1']/@subNodeMappings[name='Element']" reusedContainerMappings="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1']/@subContainerMappings[name='SubLayer']" importedMapping="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1']">
            <detailDescriptions xsi:type="description_1:TableCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20new%20Business%20Interaction%20Matrix']"/>
            <detailDescriptions xsi:type="tool:DiagramCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20Business%20%2F%20Information%20Diagram']"/>
            <detailDescriptions xsi:type="tool:DiagramCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20Business%20Footprint%20Diagram']"/>
            <detailDescriptions xsi:type="tool:DiagramCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20new%20Application%20Communication%20Diagram']"/>
            <detailDescriptions xsi:type="description_1:TableCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20new%20System%2FOrganization%20Matrix%20(Logical%20App%20Map)%20Layer']"/>
            <detailDescriptions xsi:type="description_1:TableCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20new%20System%2FFunction%20Matrix%20(Logical%20App%20Map)%20-%20Layer']"/>
            <detailDescriptions xsi:type="description_1:TableCreationDescription" href="../../org.obeonetwork.dsl.togaf.extensions.layer.design/description/layer-ext.odesign#//@ownedViewpoints[name='TOGAF%20Extension%20-%20Layer']/@ownedRepresentationExtensions[name='Layer']/@layers[name='TOGAF']/@toolSections.0/@ownedTools[name='Create%20new%20Role%2FSystem%20Matrix%20(Logical%20App%20Map)%20-%20Layer']"/>
          </subContainerMappings>
          <style xsi:type="style:FlatContainerStyleDescription">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='chocolate']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_chocolate']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
        </containerMappings>
        <toolSections name="Palette">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Layer" containerMappings="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1']/@subContainerMappings[name='SubLayer']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="layer.Layer" referenceName="subLayers"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerDropDescription" name="Drop Element" forceRefresh="true" mappings="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@containerMappings[name='Layer1']/@subNodeMappings[name='Element']" dragSource="BOTH">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$newSemanticContainer%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%(self + ancestor.filter(&quot;Layer&quot;)).eAllContents.elements.nSize==0%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="elements" valueExpression="&lt;%$element%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%(self + ancestor.filter(&quot;Layer&quot;)).eAllContents.elements.eClass.nMinimize==$element.eClass%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="elements" valueExpression="&lt;%$element%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Reference" edgeMappings="//@ownedViewpoints[name='Layer%20Definition']/@ownedRepresentations[name='Layer%20Definition']/@defaultLayer/@edgeMappings[name='Reference']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="references" valueExpression="&lt;%$target%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Element">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
          </ownedTools>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
  </ownedViewpoints>
</description:Group>
